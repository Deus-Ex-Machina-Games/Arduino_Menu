# Станок для намотки проволоки на катушку

Основные компоненты: 
- Arduino Due (управление + экран)
- Arduino Nano (управление двигателями, сохранение данных)
- L298n
- Nema 17
- Waveshare 4'inch

Самостоятельная сборка проекта:
1. Скачать VS Code и установить расширение PlatfromIO
2. Скачать репозиторий
3. Открыть папку с нужной частью проекта (Display-Part - для Arduino Due, Engine-Part - для Arduno Nano) в VS Code
4. Загрузить проект на плату (перед этим настроить порт для загрузки (upload_port) в файле platfromio.ini)

Основные библиотеки:
- [AccelStepper](https://github.com/adafruit/AccelStepper "AccelStepper")
- [Adafruit_GFX](https://github.com/adafruit/Adafruit-GFX-Library "Adafruit_GFX")
- [Regexp](https://github.com/nickgammon/Regexp "Regexp")
- [AltSoftSerial](https://github.com/PaulStoffregen/AltSoftSerial "AltSoftSerial")


## Команды материнки для контроля двигателей:
### Движение
M0 - разрешить движение двигателям \
M1 - запретить движение двигателям \
M3 - направление +1 \
M4 - направление -1 \
M5 - установить блокировку двигателей \
M6 - снять блокировку двигателей \
M7 - сменить режим на без ограничений \
M8 - сменить режим с ограничениями
### Хранение
M10 - обнулить кол-во оборотов \
M11 - сохранить кол-во оборотов \
M12 - сохранить данные в eeprom \
M13 - загрузить данные из eeprom
### Получение
M20 - получить кол-во оборотов \
M21 - получить кол-во bool возможность вращения \
M22 - получить режим \
M23 - получить направление

## Команды для дисплея:
### База
D0 - Обнулить счётчик оборотов
### Передача
D20 X - передать текущее кол-во оборотов \
D21 X - передать возможность вращения \
D22 X - передать режим \
D23 X - передать направление \
D24 X - передать текущее ограничение оборотов
